 import java.util.*;
class Item {
    String name;
    double weight;
    double value;
    boolean divisible;
    int priority;
    public Item(String name, double weight, double value, boolean divisible, int priority) {
        this.name = name;
        this.weight = weight;
        this.value = value;
        this.divisible = divisible;
        this.priority = priority;
    }
    public double valuePerWeight() {
        return weight > 0 ? value / weight : 0;
    }
}
public class EmergencyReliefKnapsack {
    // Comparator: first by priority, then by value/weight
    static Comparator<Item> compareItems = (a, b) -> {
        if (a.priority == b.priority) {
            return Double.compare(b.valuePerWeight(), a.valuePerWeight()); // descending value/weight
        }
        return Integer.compare(a.priority, b.priority); // ascending priority (1 = High)
    };
    static double fractionalKnapsack(List<Item> items, double capacity) {
        Collections.sort(items, compareItems);

        System.out.println("\nSorted Items (by Priority, then Value/Weight):");
        System.out.printf("%-20s %-10s %-10s %-12s %-15s %-15s\n",
                "Item", "Weight", "Value", "Priority", "Value/Weight", "Type");
        for (Item item : items) {
            System.out.printf("%-20s %-10.2f %-10.2f %-12d %-15.2f %-15s\n",
                    item.name, item.weight, item.value, item.priority,
                    item.valuePerWeight(), item.divisible ? "Divisible" : "Indivisible");
        }
        double totalValue = 0;
        double totalWeightCarried = 0;
        System.out.println("\nItems selected for transport:");
        for (Item item : items) {
            if (capacity <= 0) break;
            if (item.divisible) {
                double takenWeight = Math.min(item.weight, capacity);
                double takenValue = item.valuePerWeight() * takenWeight;
                totalValue += takenValue;
                capacity -= takenWeight;
                totalWeightCarried += takenWeight;

                System.out.printf(" - %s: %.2f kg, Utility = %.2f, Priority = %d, Type = Divisible\n",
                        item.name, takenWeight, takenValue, item.priority);
            } else {
                if (item.weight <= capacity) {
                    totalValue += item.value;
                    capacity -= item.weight;
                    totalWeightCarried += item.weight;
                    System.out.printf(" - %s: %.2f kg, Utility = %.2f, Priority = %d, Type = Indivisible\n",
                            item.name, item.weight, item.value, item.priority);
                }
            }
        }
        System.out.println("\n===== Final Report =====");
        System.out.printf("Total weight carried: %.2f kg\n", totalWeightCarried);
        System.out.printf("Total utility value carried: %.2f units\n", totalValue);
        return totalValue;
    }
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        System.out.print("Enter number of relief items: ");
        int n = sc.nextInt();
        sc.nextLine(); // consume newline
        List<Item> items = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            System.out.println("\nItem #" + (i + 1) + ":");
            System.out.print("Name: ");
            String name = sc.nextLine();
            System.out.print("Weight (kg): ");
            double weight = sc.nextDouble();
            System.out.print("Utility Value: ");
            double value = sc.nextDouble();
            System.out.print("Is it divisible? (1 = Yes, 0 = No): ");
            int divisibleInt = sc.nextInt();
            System.out.print("Priority (1 = High, 2 = Medium, 3 = Low): ");
            int priority = sc.nextInt();
            sc.nextLine(); // consume newline
            items.add(new Item(name, weight, value, divisibleInt == 1, priority));
        }
        System.out.print("\nEnter maximum weight capacity of the boat (in kg): ");
        double capacity = sc.nextDouble();
        fractionalKnapsack(items, capacity);
        sc.close();
    }
}

